{"version":3,"file":"static/js/33.3a0fa7cd.chunk.js","mappings":"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","sources":["webpack://social-network/./src/components/users/users.module.css?bee1","webpack://social-network/./src/components/common/Paginator/Paginator.module.css?6caa","components/common/Paginator/Paginator.jsx","components/users/User.jsx","components/users/Users.jsx","redux/selectors/users-selectors.js","components/users/UsersContainer.jsx","hoc/withAuthNavigate.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"users\":\"users_users__mGgjR\",\"user\":\"users_user__DFhf8\",\"user_icon_btn_block\":\"users_user_icon_btn_block__TdSS8\",\"photo\":\"users_photo__gt-0a\",\"on_off_Follow\":\"users_on_off_Follow__BANHG\",\"user_description\":\"users_user_description__Ha5pB\",\"status\":\"users_status__QmS9N\",\"country\":\"users_country__TWdGy\",\"city\":\"users_city__BRsfq\",\"show_more\":\"users_show_more__BWtLL\",\"btnNumberPages\":\"users_btnNumberPages__Y3ne6\",\"selectedPage\":\"users_selectedPage__8dExs\"};","// extracted by mini-css-extract-plugin\nexport default {\"btnNumberPages\":\"Paginator_btnNumberPages__DIqDO\",\"selectedPage\":\"Paginator_selectedPage__pIOHP\"};","import style from './Paginator.module.css';\r\nimport React, {useState} from 'react';\r\n\r\nconst PREV = '<<'\r\nconst NEXT = '>>'\r\n\r\nconst Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n  let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  let portionsCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionCurrentNumber, setPortionNumber] = useState(1);\r\n  let leftPortionPageNumber = (portionCurrentNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionCurrentNumber * portionSize;\r\n\r\n  return (\r\n    <div className={style.btnNumberPages}>\r\n      {portionCurrentNumber > 1 &&\r\n        <div>\r\n          <button onClick={() => {setPortionNumber(1)}} >{PREV}</button>\r\n          <button onClick={() => {setPortionNumber(portionCurrentNumber - 1)}}>Prev</button>\r\n        </div>\r\n      }\r\n\r\n      {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber).map((p) => {\r\n        return (\r\n          <span\r\n            className={currentPage === p ? style.selectedPage : ''}\r\n            key={p}\r\n            onClick={() => {\r\n              onPageChanged(p);\r\n            }}\r\n          >\r\n            {p}\r\n          </span>\r\n        );\r\n      })}\r\n\r\n      {portionsCount > portionCurrentNumber &&\r\n        <div>\r\n          <button onClick={() => setPortionNumber(portionCurrentNumber + 1)}>Next</button>\r\n          <button onClick={() => setPortionNumber(portionsCount)}>{NEXT}</button>\r\n        </div>\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Paginator;\r\n","import s from './users.module.css';\r\nimport userPhoto from '../../assets/images/woman.jpg';\r\nimport React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst User = ({ user, ...props }) => {\r\n  return (\r\n    <div className={s.user}>\r\n      <div className={s.user_icon_btn_block}>\r\n        <NavLink to={`/profile/${user.id}`}>\r\n          <img\r\n            src={user.photos.small ? user.photos.small : userPhoto}\r\n            alt=\"\"\r\n            className={s.photo}\r\n          />\r\n        </NavLink>\r\n        <div>\r\n          {user.followed ? (\r\n            <button\r\n              disabled={props.followingIsProgress.some((id) => id === user.id)}\r\n              className={s.on_off_Follow}\r\n              onClick={() => {\r\n                props.unFollow(user.id);\r\n              }}\r\n            >\r\n              UnFollow\r\n            </button>\r\n          ) : (\r\n            <button\r\n              disabled={props.followingIsProgress.some((id) => id === user.id)}\r\n              className={s.on_off_Follow}\r\n              onClick={() => {\r\n                props.follow(user.id);\r\n              }}\r\n            >\r\n              Follow\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className={s.user_description}>\r\n        <div>{user.name}</div>\r\n        <div className={s.status}>{user.status}</div>\r\n        <div className={s.country}>{'user.location.country'}</div>\r\n        <div className={s.city}>{'user.location.city'}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import s from './users.module.css';\r\nimport React from 'react';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\nconst Users = (props) => {\r\n  return (\r\n    <div className={s.users}>\r\n      {props.users.map((user) => {\r\n        return (\r\n          <User\r\n            user={user}\r\n            key={user.id}\r\n            followingIsProgress={props.followingIsProgress}\r\n            follow={props.follow}\r\n            unFollow={props.unFollow}\r\n          />\r\n        );\r\n      })}\r\n\r\n      <Paginator\r\n        totalItemsCount={props.totalUsersCount}\r\n        pageSize={props.pageSize}\r\n        currentPage={props.currentPage}\r\n        onPageChanged={props.onPageChanged}\r\n      />\r\n\r\n      <button className={s.show_more}>Show more</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import {createSelector} from \"reselect\";\r\n\r\nconst getUsersPrimitiveSelector = (state) => {\r\n  return state.usersPage.users;\r\n};\r\nexport const getUsers = createSelector([getUsersPrimitiveSelector] ,(users)=>{\r\n  return users.filter(el=>true);\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize;\r\n};\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage;\r\n};\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount;\r\n};\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching;\r\n};\r\nexport const getFollowingIsProgress = (state) => {\r\n  return state.usersPage.followingIsProgress;\r\n};\r\n","import { connect } from 'react-redux';\r\nimport {\r\n  follow,\r\n  unFollow,\r\n  requestUsers,\r\n} from '../../redux/reduced/users-reducer';\r\nimport React from 'react';\r\nimport Users from './Users';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { compose } from 'redux';\r\nimport withAuthNavigate from '../../hoc/withAuthNavigate';\r\nimport {\r\n  getUsers,\r\n  getPageSize,\r\n  getCurrentPage,\r\n  getTotalUsersCount,\r\n  getIsFetching,\r\n  getFollowingIsProgress,\r\n} from '../../redux/selectors/users-selectors';\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    const { currentPage, pageSize } = this.props;\r\n    this.props.requestUsers(currentPage, pageSize);\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    const { pageSize } = this.props;\r\n    this.props.requestUsers(pageNumber, pageSize);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.isFetching ? <Preloader /> : null}\r\n        <Users\r\n          users={this.props.users}\r\n          pageSize={this.props.pageSize}\r\n          currentPage={this.props.currentPage}\r\n          totalUsersCount={this.props.totalUsersCount}\r\n          followingIsProgress={this.props.followingIsProgress}\r\n          follow={this.props.follow}\r\n          unFollow={this.props.unFollow}\r\n          onPageChanged={this.onPageChanged}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    currentPage: getCurrentPage(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    isFetching: getIsFetching(state),\r\n    followingIsProgress: getFollowingIsProgress(state),\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    follow,\r\n    unFollow,\r\n    requestUsers,\r\n  }),\r\n  withAuthNavigate,\r\n)(UsersContainer);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nlet mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n});\r\n\r\nconst withAuthNavigate = (Component) => {\r\n  // Function wrapper component\r\n  let WrapperComponent = (props) => {\r\n    if (!props.isAuth) return <Navigate to=\"/login\" />;\r\n    return <Component {...props} />;\r\n  };\r\n\r\n  // Or so class wrapper component\r\n  // class WrapperComponent extends React.Component {\r\n  //   render() {\r\n  //     if (!this.props.isAuth) return <Navigate to=\"/login\" />;\r\n  //     return <Component {...this.props} />;\r\n  //   }\r\n  // }\r\n\r\n  return connect(mapStateToProps, {})(WrapperComponent);\r\n};\r\n\r\nexport default withAuthNavigate;\r\n"],"names":["_ref","totalItemsCount","pageSize","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionsCount","portionCurrentNumber","setPortionNumber","useState","leftPortionPageNumber","rightPortionPageNumber","_jsxs","className","style","children","_jsx","onClick","filter","p","map","user","props","s","NavLink","to","id","src","photos","small","alt","followed","disabled","followingIsProgress","some","unFollow","follow","name","status","users","User","Paginator","totalUsersCount","getUsers","createSelector","state","usersPage","el","getPageSize","getCurrentPage","getTotalUsersCount","getIsFetching","isFetching","getFollowingIsProgress","UsersContainer","React","constructor","arguments","pageNumber","this","requestUsers","componentDidMount","render","_Fragment","Preloader","Users","compose","connect","withAuthNavigate","mapStateToProps","isAuth","auth","Component","Navigate"],"sourceRoot":""}